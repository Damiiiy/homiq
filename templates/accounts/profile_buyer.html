{% load static %}
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="Untree.co" />
    <link rel="shortcut icon" href="{% static 'favicon.png' %}" />

    <meta name="description" content="" />
    <meta name="keywords" content="bootstrap, bootstrap5" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;500;600;700&display=swap" rel="stylesheet"/>

    <link rel="stylesheet" href="{% static 'fonts/icomoon/style.css' %}" />
    <link rel="stylesheet" href="{% static 'fonts/flaticon/font/flaticon.css' %}" />

    <link rel="stylesheet" href="{% static 'css/tiny-slider.css' %}" />
    <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}" />
    <link rel="stylesheet" href="{% static 'css/aos.css' %}" />
    <link rel="stylesheet" href="{% static 'css/style.css' %}" />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <title>My Profile</title>
</head>
<body>

<!-- Mobile Menu -->
<div class="site-mobile-menu site-navbar-target">
    <div class="site-mobile-menu-header">
        <div class="site-mobile-menu-close">
            <span class="icofont-close js-menu-toggle"></span>
        </div>
    </div>
    <div class="site-mobile-menu-body"></div>
</div>

<!-- Navbar -->
<nav class="site-nav">
    <div class="container">
        <div class="menu-bg-wrap">
            <div class="site-navigation">
                <a href="/" class="logo m-0 float-start">
<!--                    <img src="{% static 'images/tkp.jpg' %}" class="img" style="width:80px; height:55px; mix-blend-mode:multiply;">-->
                    <p class="text-light p-1 m-1"><b>Homiq</b></p>

                </a>
                <ul class="js-clone-nav d-none d-lg-inline-block text-start site-menu float-end">
                    <li class="active"><a href="/">Home</a></li>
                    <li><a href="{% url 'logout' %}">Logout</a></li>
                </ul>
                <a href="#" class="burger light me-auto float-end mt-1 site-menu-toggle js-menu-toggle d-inline-block d-lg-none"
                   data-toggle="collapse" data-target="#main-navbar">
                    <span></span>
                </a>
            </div>
        </div>
    </div>
</nav>

 <div class="hero page-inner overlay" style="background-image: url('images/hero_bg_3.jpg')">
      <div class="container">
        <div class="row justify-content-center align-items-center">
          <div class="col-lg-9 text-center mt-5">
            <h1 class="heading" data-aos="fade-up">
              {{ house.name }}
            </h1>
            <nav aria-label="breadcrumb" data-aos="fade-up" data-aos-delay="200">
              <ol class="breadcrumb text-center justify-content-center">
                <li class="breadcrumb-item"><a href="/">Home</a></li>
                <li class="breadcrumb-item">
                  <a href="">Profile</a>
                </li>
                <li class="breadcrumb-item active text-white-50" aria-current="page">
                  {{ user.name }}
                </li>
              </ol>
            </nav>
          </div>
        </div>
      </div>
    </div>
<!-- User Profile Section -->
<section class="section">
    <div class="container p-5">
        <div class="row justify-content-center">
            <div class="col-lg-10 col-xl-8">

                <div class="card-body">
                    <h4 class="card-title mb-4 justify-content-center text-center">Profile Information</h4>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <strong>Name:</strong>
                            <span>{{ user.name }}</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <strong>Email:</strong>
                            <span>{{ user.email }}</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <strong>Wallet Address:</strong>
                            <span class="d-flex align-items-center">
                                <code id="walletDisplay">{{ user.wallet_address|slice:":12" }}...</code>
<!--                                <i class="lni-clipboard" style="cursor: pointer;" onclick="copyWallet()" title="Copy Wallet Address"></i>-->
                                <button class="ms-2" onclick="copyWallet()">
                                    <i class="lni-clipboard" style="cursor: pointer;" onclick="copyWallet()" title="Copy Wallet Address"></i>
                                    <i class="lni-clipboard"></i>
                                </button>
                            </span>
                        </li>

                    </ul>
                </div>
                </div>
                <!-- end of div for posting house -->
            </div>
        </div>
    </div>
</section>

<!-- Houses Listing -->
<div class="d-flex justify-content-center text-center text-body">
    <p class="h3"> My Reservations</p>
</div>
<hr>
<br><br>
<section class="m-2">
    <div class="container">
        <div class="section-properties">
            <div class="container">
                <div class="row">
                    {% for house in page_obj %}
                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-4">
                            <div class="property-item mb-30">
                                <a href="" class="img">
                                    <img src="{{ house.house.image.url }}" alt="House Image" class="img-fluid">
                                </a>
                                <div class="property-content">
                                    <div class="price mb-2"><span>â‚¦{{ house.house.price }}</span></div>
                                    <span class="d-block mb-2 text-black-50">{{ house.house.address }}</span>
                                    <span class="city d-block mb-3">{{ house.house.location }}</span>
                                    <div class="specs d-flex mb-4">
                                        <span class="d-block d-flex align-items-center me-3">
                                            <span class="icon-bed me-2"></span>
                                            <span class="caption">{{ house.house.bedrooms }} Bedrooms</span>
                                        </span>
                                        <span class="d-block d-flex align-items-center">
                                            <span class="icon-bath me-2"></span>
                                            <span class="caption">{{ house.house.bathrooms }} Bathrooms</span>
                                        </span>
                                    </div>
                                    <a href="{% url 'view-house' house.house.id %}" class="btn btn-primary py-2 px-3">See details</a>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>

                <!-- Pagination -->
                <div class="pagination text-center mt-4">
                    {% if page_obj.has_previous %}
                        <a href="?page=1" class="btn btn-outline-primary">&laquo; First</a>
                        <a href="?page={{ page_obj.previous_page_number }}" class="btn btn-outline-primary">Previous</a>
                    {% endif %}
                    <span class="btn btn-primary disabled">Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</span>
                    {% if page_obj.has_next %}
                        <a href="?page={{ page_obj.next_page_number }}" class="btn btn-outline-primary">Next</a>
                        <a href="?page={{ page_obj.paginator.num_pages }}" class="btn btn-outline-primary">Last &raquo;</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</section>

<script>
function copyWallet() {
    const fullWallet = "{{ user.wallet_address }}";
    navigator.clipboard.writeText(fullWallet).then(() => {
        alert("Wallet address copied to clipboard!");
    }).catch(err => {
        console.error("Failed to copy: ", err);
    });
}
</script>

<br><br><br>
<div class="site-footer">
        <div class="row mt-5">
          <div class="col-12 text-center">
            <p>
              Copyright &copy;
              <script>
                document.write(new Date().getFullYear());
              </script>
              . All Rights Reserved.
            </p>
          </div>
        </div>
      </div>
      <!-- /.container -->
    </div>
    <!-- /.site-footer -->

    <!-- Preloader -->
    <div id="overlayer"></div>
    <div class="loader">
      <div class="spinner-border" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>
    <script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'js/tiny-slider.js' %}"></script>
    <script src="{% static 'js/aos.js' %}"></script>
    <script src="{% static 'js/navbar.js' %}"></script>
    <script src="{% static 'js/counter.js' %}"></script>
    <script src="{% static 'js/custom.js' %}"></script>
</body>

</html>

